(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{16:function(e,t,a){e.exports=a(29)},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(1),o=a.n(s),i=a(3),l=a.n(i),c=a(8),u=a(10),d=a(11),h=a(15),m=a(14),f=a(13),g=a(5),p=a(6),w=a.n(p),y=function(){return n.a.createElement("nav",{className:"flex items-center justify-between flex-wrap bg-white py-6 px-6 md:px-16 shadow-sm"},n.a.createElement("div",{className:"flex items-center flex-shrink-0 text-gray-600 mr-6"},n.a.createElement("span",{className:"text-xl tracking-tight"},"COVID-19 DASHBOARD")),n.a.createElement("div",{className:"w-full block flex-grow lg:flex lg:items-center lg:w-auto"},n.a.createElement("div",{className:"text-sm lg:flex-grow"}),n.a.createElement("div",null,n.a.createElement("a",{href:"https://datahub.io/core/covid-19",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"RAW DATA"),n.a.createElement("a",{href:"https://www.datopian.com/about/",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"TEAM"),n.a.createElement("a",{href:"https://www.datopian.com/contact/",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"CONTACT"))))},C=function(e){var t=e.totalCases,a=e.totalDeaths,r=e.deathRate,s=e.newCases,o=e.newCaseRate,i=e.casesPer100k;return n.a.createElement("div",{className:"grid sm:grid-cols-1 lg:grid-cols-6 gap-6 mt-4 mb-4 font-bold text-2xl"},n.a.createElement("div",{className:"border text-center py-12"},t,n.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Cases")),n.a.createElement("div",{className:"border text-center py-12"},a,n.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Deaths")),n.a.createElement("div",{className:"border text-center py-12"},r,"%",n.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Death rate")),n.a.createElement("div",{className:"border text-center py-12"},s,n.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"New cases yesterday")),n.a.createElement("div",{className:"border text-center py-12"},o,"%",n.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"New cases rate")),n.a.createElement("div",{className:"border text-center py-12"},i,n.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Cases per 100k")))},v=a(4),x=a.n(v),D=function(e){return n.a.createElement(x.a,{className:"w-full h-graph",data:e.data,layout:{yaxis:{type:"log"},colorway:["black","gray","orange"]},config:{responsive:!0,displayModeBar:!1}})},b=function(e){return n.a.createElement(x.a,{className:"w-full h-screen",data:e.data,layout:{title:"Cumulative confirmed cases",geo:{showframe:!1,showcoastlines:!1,showland:!0,landcolor:"rgb(217, 217, 217)",projection:{type:"mercator"}}},config:{responsive:!0,displayModeBar:!1}})},k=(a(28),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={country:"world",worldwideData:[],countryData:[],referenceData:[],isLoading:!1},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(window.location.href),a=t.searchParams.get("country")||"world",this.setState({isLoading:!0,country:a}),r="https://raw.githubusercontent.com/datasets/covid-19/master/data/worldwide-aggregated.csv",n="https://raw.githubusercontent.com/datasets/covid-19/master/data/countries-aggregated.csv",s="https://raw.githubusercontent.com/datasets/covid-19/master/data/reference.csv",o={isLoading:!1},e.next=9,Promise.all([r,n,s].map(function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(a=e.sent,t!==r){e.next=13;break}return e.t0=g.parse,e.next=7,a.text();case 7:e.t1=e.sent,e.t2={header:!0},o.worldwideData=(0,e.t0)(e.t1,e.t2).data,o.worldwideData[o.worldwideData.length-1].Date||o.worldwideData.pop(),e.next=31;break;case 13:if(t!==n){e.next=23;break}return e.t3=g.parse,e.next=17,a.text();case 17:e.t4=e.sent,e.t5={header:!0},o.countryData=(0,e.t3)(e.t4,e.t5).data,o.countryData[o.countryData.length-1].Date||o.countryData.pop(),e.next=31;break;case 23:if(t!==s){e.next=31;break}return e.t6=g.parse,e.next=27,a.text();case 27:e.t7=e.sent,e.t8={header:!0},o.referenceData=(0,e.t6)(e.t7,e.t8).data,o.referenceData[o.referenceData.length-1].Date||o.referenceData.pop();case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:this.setState(o);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCountriesDataForDate",value:function(e){var t=this.state.countryData;if(t.length>0){var a=[];if("latest"===e)e=t[t.length-1].Date;else if("previous"===e){var r=t[t.length-1].Date,n=new Date(r),s=new Date(n.setDate(n.getDate()-1));e=s.toISOString().slice(0,10)}return t.forEach((function(t){t.Date===e&&a.push(t)})),a}}},{key:"getTotalCasesAndDeaths",value:function(){var e,t,a=this.state,r=a.worldwideData,n=a.country;if("world"===n&&r.length>0)e=r[r.length-1].Confirmed,t=r[r.length-1].Deaths;else{var s=this.getCountriesDataForDate("latest");if(s){var o=s.find((function(e){return e.Country.toLowerCase()===n.toLowerCase()}));e=o.Confirmed,t=o.Deaths}}return{totalCases:e,totalDeaths:t}}},{key:"getNewCasesAndRate",value:function(){var e,t,a=this.state,r=a.worldwideData,n=a.countryData,s=a.country;if("world"===s&&r.length>0)t=((e=r[r.length-1].Confirmed-r[r.length-2].Confirmed)/r[r.length-2].Confirmed*100).toFixed(2);else if(n.length>0){var o=this.getCountriesDataForDate("latest").find((function(e){return e.Country.toLowerCase()===s.toLowerCase()})),i=this.getCountriesDataForDate("previous").find((function(e){return e.Country.toLowerCase()===s.toLowerCase()}));t=((e=o.Confirmed-i.Confirmed)/i.Confirmed*100).toFixed(2)}return{newCases:e,newCasesRate:t}}},{key:"getCasesPer100k",value:function(){var e,t=this.state,a=t.worldwideData,r=t.referenceData,n=t.country,s=this.getCountriesDataForDate("latest");if("world"===n.toLowerCase()){if(a.length>0){e=(a[a.length-1].Confirmed/7594270356*1e5).toFixed(2)}}else if(s&&r.length>0){var o=s.find((function(e){return e.Country.toLowerCase()===n.toLowerCase()})),i=r.find((function(e){return e.Country_Region.toLowerCase()===n.toLowerCase()})).Population;e=(o.Confirmed/i*1e5).toFixed(2)}return e}},{key:"getChartData",value:function(){var e=this.state,t=e.country,a=e.worldwideData,r=e.countryData,n={x:[],y:[],type:"scatter",name:"Cumilative confirmed cases",mode:"lines+markers"},s={x:[],y:[],type:"bar",name:"New cases per day"},o={x:[],y:[],type:"bar",name:"Deaths per day"},i={Confirmed:0,Deaths:0};return"world"===t?a.forEach((function(e){n.x.push(e.Date),n.y.push(parseInt(e.Confirmed)),s.x.push(e.Date),s.y.push(e.Confirmed-i.Confirmed),o.x.push(e.Date),o.y.push(e.Deaths-i.Deaths),i=JSON.parse(JSON.stringify(e))})):r.forEach((function(e){e.Country.toLowerCase()===t.toLowerCase()&&(n.x.push(e.Date),n.y.push(parseInt(e.Confirmed)),s.x.push(e.Date),s.y.push(e.Confirmed-i.Confirmed),o.x.push(e.Date),o.y.push(e.Deaths-i.Deaths),i=JSON.parse(JSON.stringify(e)))})),[n,s,o]}},{key:"getChartDataForComparison",value:function(){var e=this.state.referenceData,t={x:[],y:[],type:"bar",orientation:"h"},a=this.getCountriesDataForDate("latest");return a&&e.length>0&&a.forEach((function(a){t.y.push(a.Country);var r=e.find((function(e){return e.Country_Region.toLowerCase()===a.Country.toLowerCase()})).Population,n=(a.Confirmed/r*1e5).toFixed(2);t.x.push(n)})),[t]}},{key:"getMapData",value:function(){var e=this.state.referenceData,t=this.getCountriesDataForDate("latest"),a=[{type:"choropleth",locations:[],z:[],text:[],autocolorscale:!1,zmin:100,zmax:1e6,colorscale:[[0,"rgb(255,246,229)"],[.2,"rgb(255,165,1)"],[.4,"rgb(229,148,0)"],[.6,"rgb(178,115,0)"],[.8,"rgb(127,82,0)"],[1,"rgb(51,33,0)"]],colorbar:{thickness:5},marker:{line:{color:"rgb(255,255,255)",width:1}}}];return t&&e.length>0&&t.forEach((function(t){a[0].z.push(t.Confirmed),a[0].text.push(t.Country);var r=e.find((function(e){return e.Country_Region.toLowerCase()===t.Country.toLowerCase()}));a[0].locations.push(r.iso3)})),a}},{key:"getCountryOptions",value:function(){var e=[{value:"world",label:"World"}],t=this.getCountriesDataForDate("latest");return t&&t.forEach((function(t){return e.push({value:t.Country,label:t.Country})})),e}},{key:"onSelectChanged",value:function(e){var t=new URL(window.location.href);t.searchParams.set("country",e.value),window.history.pushState({path:t.href},"",t.href),this.setState({country:e.value})}},{key:"onCompareSelectChanged",value:function(e){var t=this.state.countriesToCompare,a=JSON.parse(JSON.stringify(t));a.push(e.value),this.setState({countriesToCompare:a})}},{key:"render",value:function(){var e=this.state,t=e.country,a=e.isLoading,r=this.getTotalCasesAndDeaths(),s=r.totalCases,o=r.totalDeaths,i=(o/s*100).toFixed(2),l=this.getNewCasesAndRate(),c=l.newCases,u=l.newCasesRate,d=this.getCasesPer100k(),h=this.getChartData(),m=this.getMapData(),g=this.getCountryOptions();return a?n.a.createElement("div",{className:"flex h-screen"},n.a.createElement("p",{className:"m-auto"},"Loading ...")):n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"px-6 md:px-16"},n.a.createElement(f.a,{className:"mt-6 w-full md:w-1/3 capitalize",options:g,defaultValue:{value:t,label:t},isLoading:a,onChange:this.onSelectChanged.bind(this)}),n.a.createElement(C,{totalCases:w()(s).format("0,0"),totalDeaths:w()(o).format("0,0"),deathRate:i,newCases:w()(c).format("0,0"),newCaseRate:u,casesPer100k:d}),n.a.createElement("div",{className:"mt-4 mb-4 w-full"},n.a.createElement(D,{data:h})),n.a.createElement("div",{className:"mt-4 mb-4 w-full"},n.a.createElement(b,{data:m}))))}}]),a}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.f9900db0.chunk.js.map