(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{16:function(e,t,a){e.exports=a(29)},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(1),o=a.n(s),l=a(3),i=a.n(l),c=a(6),u=a(9),d=a(10),m=a(15),h=a(14),f=a(13),g=a(7),w=a(4),v=a.n(w),p=function(){return r.a.createElement("nav",{className:"flex items-center justify-between flex-wrap bg-white py-6 px-6 md:px-16 shadow-sm"},r.a.createElement("div",{className:"flex items-center flex-shrink-0 text-gray-600 mr-6"},r.a.createElement("span",{className:"text-xl tracking-tight"},"COVID-19 DASHBOARD")),r.a.createElement("div",{className:"w-full block flex-grow lg:flex lg:items-center lg:w-auto"},r.a.createElement("div",{className:"text-sm lg:flex-grow"}),r.a.createElement("div",null,r.a.createElement("a",{href:"https://datahub.io/core/covid-19",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"RAW DATA"),r.a.createElement("a",{href:"https://www.datopian.com/about/",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"TEAM"),r.a.createElement("a",{href:"https://www.datopian.com/contact/",target:"_blank",className:"block mt-4 lg:ml-6 lg:inline-block lg:mt-0 text-sm text-gray-700 hover:text-black"},"CONTACT"))))},C=function(e){var t=e.totalCases,a=e.totalDeaths,n=e.deathRate,s=e.newCases,o=e.newCaseRate;return r.a.createElement("div",{className:"grid sm:grid-cols-1 lg:grid-cols-5 gap-8 mt-4 mb-4 font-bold text-3xl"},r.a.createElement("div",{className:"border text-center py-16"},t,r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Cases")),r.a.createElement("div",{className:"border text-center py-16"},a,r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Deaths")),r.a.createElement("div",{className:"border text-center py-16"},n,"%",r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"Death rate")),r.a.createElement("div",{className:"border text-center py-16"},s,r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"New cases yesterday")),r.a.createElement("div",{className:"border text-center py-16"},o,"%",r.a.createElement("div",{className:"text-xs text-gray-600 font-light"},"New cases rate")))},x=a(11),y=a.n(x),D=function(e){var t={type:"scatter",mode:"lines+markers",marker:{color:"black"}},a=e.data.map((function(e){return Object.assign(t,e)}));return r.a.createElement(y.a,{className:"w-full",data:a,layout:{title:"Cumilative confirmed cases"},config:{responsive:!0,displayModeBar:!1}})},b=(a(28),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={country:"world",countriesToCompare:[],worldwideData:[],countryData:[],isLoading:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(window.location.href),a=t.searchParams.get("country")||"world",this.setState({isLoading:!0,country:a}),n="https://raw.githubusercontent.com/datasets/covid-19/master/data/worldwide-aggregated.csv",r="https://raw.githubusercontent.com/datasets/covid-19/master/data/countries-aggregated.csv",s={isLoading:!1},e.next=8,Promise.all([n,r].map(function(){var e=Object(c.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(a=e.sent,t!==n){e.next=13;break}return e.t0=g.parse,e.next=7,a.text();case 7:e.t1=e.sent,e.t2={header:!0},s.worldwideData=(0,e.t0)(e.t1,e.t2).data,s.worldwideData[s.worldwideData.length-1].Date||s.worldwideData.pop(),e.next=21;break;case 13:if(t!==r){e.next=21;break}return e.t3=g.parse,e.next=17,a.text();case 17:e.t4=e.sent,e.t5={header:!0},s.countryData=(0,e.t3)(e.t4,e.t5).data,s.countryData[s.countryData.length-1].Date||s.countryData.pop();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:this.setState(s);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCountriesDataForDate",value:function(e){var t=this.state.countryData;if(t.length>0){var a=[];if("latest"===e)e=t[t.length-1].Date;else if("previous"===e){var n=t[t.length-1].Date,r=new Date(n),s=new Date(r.setDate(r.getDate()-1));e=s.toISOString().slice(0,10)}return t.forEach((function(t){t.Date===e&&a.push(t)})),a}}},{key:"getTotalCasesAndDeaths",value:function(){var e,t,a=this.state,n=a.worldwideData,r=a.country;if("world"===r&&n.length>0)e=n[n.length-1].Confirmed,t=n[n.length-1].Deaths;else{var s=this.getCountriesDataForDate("latest");if(s){var o=s.find((function(e){return e.Country.toLowerCase()===r.toLowerCase()}));e=o.Confirmed,t=o.Deaths}}return{totalCases:e,totalDeaths:t}}},{key:"getNewCasesAndRate",value:function(){var e,t,a=this.state,n=a.worldwideData,r=a.countryData,s=a.country;if("world"===s&&n.length>0)t=((e=n[n.length-1].Confirmed-n[n.length-2].Confirmed)/n[n.length-2].Confirmed*100).toFixed(2);else if(r.length>0){var o=this.getCountriesDataForDate("latest").find((function(e){return e.Country.toLowerCase()===s.toLowerCase()})),l=this.getCountriesDataForDate("previous").find((function(e){return e.Country.toLowerCase()===s.toLowerCase()}));t=((e=o.Confirmed-l.Confirmed)/l.Confirmed*100).toFixed(2)}return{newCases:e,newCasesRate:t}}},{key:"getChartData",value:function(){var e=this.state,t=e.country,a=e.worldwideData,n=e.countryData,r=[],s={x:[],y:[]};return"world"===t?a.forEach((function(e){s.x.push(e.Date),s.y.push(e.Confirmed)})):n.forEach((function(e){e.Country.toLowerCase()===t.toLowerCase()&&(s.x.push(e.Date),s.y.push(e.Confirmed))})),r.push(s),r}},{key:"getChartDataForComparison",value:function(){var e=this.state,t=e.countriesToCompare,a=e.countryData,n=[];return t.forEach((function(e){var t={x:[],y:[]};a.forEach((function(a){a.Country.toLowerCase()===e.toLowerCase()&&(t.x.push(a.Date),t.y.push(a.Confirmed))})),n.push(t)})),n}},{key:"getCountryOptions",value:function(){var e=[],t=this.getCountriesDataForDate("latest");return t&&t.forEach((function(t){return e.push({value:t.Country,label:t.Country})})),e}},{key:"onSelectChanged",value:function(e){this.setState({country:e.value})}},{key:"onCompareSelectChanged",value:function(e){var t=this.state.countriesToCompare,a=JSON.parse(JSON.stringify(t));a.push(e.value),this.setState({countriesToCompare:a})}},{key:"render",value:function(){var e=this.state.isLoading,t=this.getTotalCasesAndDeaths(),a=t.totalCases,n=t.totalDeaths,s=(n/a*100).toFixed(2),o=this.getNewCasesAndRate(),l=o.newCases,i=o.newCasesRate,c=this.getChartData(),u=this.getCountryOptions();return e?r.a.createElement("div",{className:"flex h-screen"},r.a.createElement("p",{className:"m-auto"},"Loading ...")):r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement("div",{className:"px-6 md:px-16"},r.a.createElement(f.a,{className:"mt-6 w-full md:w-1/3",options:u,defaultValue:{value:"world",label:"World"},isLoading:e,onChange:this.onSelectChanged.bind(this)}),r.a.createElement(C,{totalCases:v()(a).format("0,0"),totalDeaths:v()(n).format("0,0"),deathRate:s,newCases:v()(l).format("0,0"),newCaseRate:i}),r.a.createElement("div",{className:"mt-4 mb-4 w-full"},r.a.createElement(D,{data:c}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.8880ea9d.chunk.js.map